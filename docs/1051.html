<html>
<head>
<title>ML MODEL TO DETECT THE BIGGEST OBJECT IN AN IMAGE â€” PART 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æ£€æµ‹å›¾åƒä¸­æœ€å¤§ç‰©ä½“çš„ ML æ¨¡å‹â€”â€”ç¬¬ 1 éƒ¨åˆ†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/single-object-detection-e65a537a1c31#2019-02-12">https://medium.com/hackernoon/single-object-detection-e65a537a1c31#2019-02-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="1d27" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">1 -å›´ç»•å›¾åƒä¸­æœ€å¤§çš„å¯¹è±¡ç»˜åˆ¶è¾¹ç•Œæ¡†ã€‚è¿™æ˜¯ä¸ºäº†å‡†å¤‡å¥½å›¾åƒæ•°æ®è¿›è¡Œåˆ†æã€‚</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/eac0d69fa13c606cb48512dcc9ae954c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a9eJ9fZcRunVZx2i670PHQ.jpeg"/></div></div></figure><p id="79e7" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">æ¬¢è¿æ¥åˆ° fast.ai çš„ç¬¬ 2 éƒ¨åˆ†ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†å¤„ç†<strong class="jx hv">å•ä¸ªç‰©ä½“æ£€æµ‹ã€‚</strong>åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œæˆ‘è¦æ„Ÿè°¢<a class="ae kr" href="https://twitter.com/jeremyphoward" rel="noopener ugc nofollow" target="_blank"><strong class="jx hv"/></a>å’Œ<a class="ae kr" href="https://twitter.com/math_rachel" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">ç‘ç§‹Â·æ‰˜é©¬æ–¯</strong> </a>ä¸º AI æ°‘ä¸»åŒ–æ‰€åšçš„åŠªåŠ›ã€‚</p><p id="0404" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">æœ¬éƒ¨åˆ†å‡è®¾æ‚¨å·²ç»å¾ˆå¥½åœ°ç†è§£äº†ç¬¬ 1 éƒ¨åˆ†ã€‚ä»¥ä¸‹æ˜¯é“¾æ¥ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºéšæ„æ¢ç´¢æœ¬ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚</p><ol class=""><li id="4bf2" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq kx ky kz la dt translated"><a class="ae kr" href="https://towardsdatascience.com/fast-ai-season-1-episode-2-1-e9cc80d81a9d" rel="noopener" target="_blank">ç‹— Vs çŒ«å›¾åƒåˆ†ç±»</a></li><li id="1580" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" href="https://towardsdatascience.com/fast-ai-season-1-episode-2-2-dog-breed-classification-5555c0337d60" rel="noopener" target="_blank">çŠ¬ç§å›¾åƒåˆ†ç±»</a></li><li id="fba9" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" href="https://towardsdatascience.com/fast-ai-season-1-episode-3-a-case-of-multi-label-classification-a4a90672a889" rel="noopener" target="_blank">å¤šæ ‡ç­¾å›¾åƒåˆ†ç±»</a></li><li id="8802" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" href="https://towardsdatascience.com/fast-ai-season-1-episode-4-1-time-series-analysis-a23217418bf1" rel="noopener" target="_blank">ä½¿ç”¨ç¥ç»ç½‘ç»œçš„æ—¶é—´åºåˆ—åˆ†æ</a></li><li id="6d6d" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" href="https://geneashis.medium.com/nlp-sentiment-analysis-on-imdb-movie-dataset-fb0c4d346d23" rel="noopener">å¯¹ IMDB ç”µå½±æ•°æ®é›†çš„ NLP æƒ…æ„Ÿåˆ†æ</a></li><li id="1021" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" href="https://towardsdatascience.com/fast-ai-season-1-episode-5-1-movie-recommendation-using-fastai-a53ed8e41269" rel="noopener" target="_blank">ç”µå½±æ¨èç³»ç»ŸåŸºç¡€</a></li><li id="1a4e" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" href="https://towardsdatascience.com/fast-ai-season-1-episode-5-2-collaborative-filtering-from-scratch-1877640f514a" rel="noopener" target="_blank">ä»é›¶å¼€å§‹ååŒè¿‡æ»¤</a></li><li id="7c39" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" href="https://towardsdatascience.com/fast-ai-season-1-episode-5-3-collaborative-filtering-using-neural-network-48e49d7f9b36" rel="noopener" target="_blank">ä½¿ç”¨ç¥ç»ç½‘ç»œçš„ååŒè¿‡æ»¤</a></li><li id="aea4" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" href="https://geneashis.medium.com/fast-ai-season-1-episode-6-1-write-philosophy-like-nietzsche-using-rnn-8fe70cfb923c" rel="noopener">åƒå°¼é‡‡ä¸€æ ·å†™å“²å­¦</a></li><li id="c436" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" href="https://geneashis.medium.com/fast-ai-season-1-episode-7-1-performance-of-different-neural-networks-on-cifar-10-dataset-c6559595b529" rel="noopener">ä¸åŒç¥ç»ç½‘ç»œåœ¨ Cifar-10 æ•°æ®é›†ä¸Šçš„æ€§èƒ½</a></li><li id="fab4" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" rel="noopener" href="/hackernoon/single-object-detection-e65a537a1c31"> ML æ¨¡å‹æ£€æµ‹å›¾åƒä¸­æœ€å¤§çš„ç‰©ä½“ Part-1 </a></li><li id="044a" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><a class="ae kr" rel="noopener" href="/hackernoon/single-object-detection-part-2-2deafc911ce7">æ£€æµ‹å›¾åƒä¸­æœ€å¤§ç‰©ä½“çš„ ML æ¨¡å‹ Part-2 </a></li></ol><p id="488f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è¿™ç¯‡åšæ–‡åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚</p><ul class=""><li id="6126" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated">ç¬¬ä¸€éƒ¨åˆ†ä»ç†Ÿæ‚‰å¯¹è±¡æ£€æµ‹åˆ°å¯¹è±¡å®šä½çš„æ•°æ®æ ¼å¼å¼€å§‹ã€‚</li><li id="85ca" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">ç¬¬äºŒéƒ¨åˆ†å¤„ç†å›¾åƒä¸­çš„æœ€å¤§é¡¹ç›®åˆ†ç±»å™¨ã€‚</li></ul><p id="fa6c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">æˆ‘ä»¬å°†ä½¿ç”¨çš„æ•°æ®é›†æ˜¯ PASCAL VOC (2007 ç‰ˆ)ã€‚</p><p id="b479" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è®©æˆ‘ä»¬ç”¨ç¼–ç éƒ¨åˆ†æ¥å¼„è„æˆ‘ä»¬çš„æ‰‹ã€‚</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="lh li l"/></div></figure><p id="28b9" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">ä¸æ‰€æœ‰æœºå™¨å­¦ä¹ é¡¹ç›®ä¸€æ ·ï¼Œæœ‰ä¸‰ä»¶äº‹éœ€è¦å…³æ³¨</p><ol class=""><li id="45aa" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq kx ky kz la dt translated"><em class="lj">æä¾›æ•°æ®ã€‚</em></li><li id="28df" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><em class="lj">æŒ‘é€‰ä¸€äº›åˆé€‚çš„æ¶æ„ã€‚</em></li><li id="fdc1" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq kx ky kz la dt translated"><em class="lj">é€‰æ‹©ä¸€ä¸ªæŸå¤±å‡½æ•°ã€‚</em></li></ol><p id="75f4" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">ç¬¬ 1 æ­¥</strong>å°†é›†ä¸­äºä»¥é€‚å½“çš„å½¢å¼è·å¾—æ•°æ®ï¼Œä»¥ä¾¿åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œåˆ†æã€‚</p><p id="cd98" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">æ­¥éª¤ 1:- </strong>å®ƒåŒ…æ‹¬å¯¹æ¯å¹…å›¾åƒä¸­æœ€å¤§çš„ç‰©ä½“è¿›è¡Œåˆ†ç±»å’Œå®šä½ã€‚è¯¥æ­¥éª¤åŒ…æ‹¬:-</p><ul class=""><li id="b30d" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated">å¯¹å¯¹è±¡è¿›è¡Œåˆ†ç±»ã€‚</li><li id="b35b" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">å®šä½ç‰©ä½“ã€‚</li><li id="3670" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">æ ‡è®°å®šä½çš„å¯¹è±¡ã€‚</li><li id="93a0" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">ç„¶åæˆ‘ä»¬ä¼šå°è¯•ä¸€æ¬¡å®Œæˆä»¥ä¸Šä¸‰ä¸ªæ­¥éª¤ã€‚</li></ul></div><div class="ab cl lk ll hc lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hn ho hp hq hr"><p id="3e1c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv"> <em class="lj"> 1.1ã€‚å®‰è£…è½¯ä»¶åŒ…</em>å’Œ</strong></p><p id="cf30" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è®©æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„å‘½ä»¤å®‰è£…è½¯ä»¶åŒ…å¹¶ä¸‹è½½æ•°æ®ã€‚</p><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="1ecf" class="lw lx hu ls b fv ly lz l ma mb"># Install the packages<br/># !pip install <a class="ae kr" href="https://github.com/fastai/fastai/archive/master.zip" rel="noopener ugc nofollow" target="_blank">https://github.com/fastai/fastai/archive/master.zip</a><br/>!pip install fastai==0.7.0<br/>!pip install torchtext==0.2.3<br/>!pip install opencv-python<br/>!apt update &amp;&amp; apt install -y libsm6 libxext6<br/>!pip3 install <a class="ae kr" href="http://download.pytorch.org/whl/cu80/torch-0.3.0.post4-cp36-cp36m-linux_x86_64.whl" rel="noopener ugc nofollow" target="_blank">http://download.pytorch.org/whl/cu80/torch-0.3.0.post4-cp36-cp36m-linux_x86_64.whl</a> <br/>!pip3 install torchvision</span><span id="866a" class="lw lx hu ls b fv mc lz l ma mb"># Download the Data to the required folder<br/>!mkdir data<br/>!wget <a class="ae kr" href="http://pjreddie.com/media/files/VOCtrainval_06-Nov-2007.tar" rel="noopener ugc nofollow" target="_blank">http://pjreddie.com/media/files/VOCtrainval_06-Nov-2007.tar</a> -P data/<br/>!wget <a class="ae kr" href="https://storage.googleapis.com/coco-dataset/external/PASCAL_VOC.zip" rel="noopener ugc nofollow" target="_blank">https://storage.googleapis.com/coco-dataset/external/PASCAL_VOC.zip</a> -P data/<br/>!tar -xf data/VOCtrainval_06-Nov-2007.tar -C data/<br/>!unzip data/PASCAL_VOC.zip -d data/<br/>!rm -rf data/PASCAL_VOC.zip data/VOCtrainval_06-Nov-2007.tar</span><span id="a3f8" class="lw lx hu ls b fv mc lz l ma mb">%matplotlib inline<br/>%reload_ext autoreload<br/>%autoreload 2</span><span id="65b3" class="lw lx hu ls b fv mc lz l ma mb">!pip install Pillow</span><span id="e820" class="lw lx hu ls b fv mc lz l ma mb">from fastai.conv_learner import *<br/>from fastai.dataset import *</span><span id="0f12" class="lw lx hu ls b fv mc lz l ma mb">from pathlib import Path<br/>import json<br/>import PIL<br/>from matplotlib import patches, patheffects<br/></span></pre><p id="fc3d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹æˆ‘ä»¬çš„æ•°æ®ä¸­æœ‰ä»€ä¹ˆã€‚æˆ‘ä»¬å°†ä½¿ç”¨ python 3 æ ‡å‡†åº“<code class="eh md me mf ls b">pathlib</code>è¿›è¡Œè·¯å¾„å’Œæ–‡ä»¶è®¿é—®ã€‚</p><p id="0a88" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv"> <em class="lj"> 1.2ã€‚ä½¿ç”¨</em> </strong> <code class="eh md me mf ls b"><strong class="jx hv"><em class="lj">Pathlib </em></strong></code> <strong class="jx hv"> <em class="lj">å¯¹è±¡äº†è§£ä½ çš„æ•°æ®ã€‚</em> </strong></p><p id="d6d3" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><code class="eh md me mf ls b">data</code>æ–‡ä»¶å¤¹åŒ…å«ä¸åŒç‰ˆæœ¬çš„<a class="ae kr" href="http://host.robots.ox.ac.uk/pascal/VOC/voc2007/" rel="noopener ugc nofollow" target="_blank"> Pascal VOC </a>ã€‚</p><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="c673" class="lw lx hu ls b fv ly lz l ma mb">PATH = Path('data')<br/>list((PATH/'PASCAL_VOC').iterdir())<br/><strong class="ls hv"># iterdir() helps in iterating through the directory of PASCAL_VOC</strong></span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mg"><img src="../Images/c2b23bacb67d000da889bf50e5e7e760.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*m2S1K8A23Ygy8qtmlQWcYg.png"/></div></figure><ul class=""><li id="c108" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated"><code class="eh md me mf ls b">PATH</code>æ˜¯å¯¹ç›®å½•æˆ–æ–‡ä»¶çš„é¢å‘å¯¹è±¡çš„è®¿é—®ã€‚å®ƒæ˜¯ python åº“<code class="eh md me mf ls b">pathlib</code>çš„ä¸€éƒ¨åˆ†ã€‚è¦äº†è§£å¦‚ä½•åˆ©ç”¨<code class="eh md me mf ls b">pathlib </code>åŠŸèƒ½ï¼Œè¯·åšä¸€ä¸ª<code class="eh md me mf ls b">PATH.TAB</code>ã€‚</li><li id="def1" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">å› ä¸ºæˆ‘ä»¬å°†åªä½¿ç”¨<code class="eh md me mf ls b">pascal_train2007.json</code>ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚</li></ul><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="9d19" class="lw lx hu ls b fv ly lz l ma mb">training_json = json.load((PATH/'PASCAL_VOC''pascal_train2007.json').open())<br/><strong class="ls hv"># training_json is a dictionary variable.<br/># As we can see Pathlib object has an open method .<br/># json.load is a part of Json (Java Script Object Notation) library that # we have imported earlier.</strong></span><span id="57e0" class="lw lx hu ls b fv mc lz l ma mb">training_json.keys()</span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mh"><img src="../Images/a309edfb07f3aa277289977891b46ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*eZTrwqldgEXOxUvrnnyxBQ.png"/></div></figure><p id="6019" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è¯¥æ–‡ä»¶åŒ…å«<strong class="jx hv">å›¾åƒã€ç±»å‹ã€æ³¨é‡Šå’Œç±»åˆ«</strong>ã€‚ä¸ºäº†ä½¿ç”¨<em class="lj">åˆ¶è¡¨å®Œæˆ</em>ï¼Œå°†å…¶ä¿å­˜åœ¨é€‚å½“çš„å˜é‡åä¸­ã€‚</p><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="d02a" class="lw lx hu ls b fv ly lz l ma mb">IMAGES,ANNOTATIONS,CATEGORIES = ['images', 'annotations', 'categories']</span></pre><p id="d1ee" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è®©æˆ‘ä»¬è¯¦ç»†çœ‹çœ‹æ¯ä¸€ä¸ªéƒ½æœ‰å“ªäº›ç»†èŠ‚:-</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mi"><img src="../Images/839b4a6b066132984a59147a89e1c568.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*cVUDtBaQRiwG8WPDvDenJg.png"/></div></div></figure><ul class=""><li id="61cb" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated"><strong class="jx hv">å›¾åƒ</strong>ç”±<strong class="jx hv">å›¾åƒåç§°ã€é«˜åº¦ã€å®½åº¦å’Œå›¾åƒ id </strong>ç»„æˆã€‚</li></ul><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mj"><img src="../Images/3970e866f710c7964f74100d6f4fab4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*6lehwfyWhdpQEf3SKLFYmw.png"/></div></figure><ul class=""><li id="9645" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated"><strong class="jx hv">æ³¨é‡Š</strong>ç”±<strong class="jx hv">åŒºåŸŸã€bbox(è¾¹ç•Œæ¡†)ã€category_id </strong>ç»„æˆ(æ¯ä¸ªç±»åˆ« id éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹ç›¸å…³çš„ç±»æˆ–åç§°)ã€‚</li><li id="447d" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">ä¸€äº›å›¾åƒå…·æœ‰å¤šè¾¹å½¢åˆ†å‰²ï¼Œå³å›¾åƒä¸­å¯¹è±¡å‘¨å›´çš„è¾¹ç•Œæ¡†ã€‚è¿™å¯¹æˆ‘ä»¬çš„è®¨è®ºä¸é‡è¦ã€‚</li><li id="01aa" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">å¦‚æœ<strong class="jx hv">å¿½ç•¥æ ‡å¿—=1(çœŸ)ï¼Œå¿½ç•¥æ ‡å¿—è¡¨ç¤ºå¿½ç•¥å›¾åƒä¸­çš„å¯¹è±¡ã€‚</strong></li></ul><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mk"><img src="../Images/db48ebb416112a47689266487ecfd1ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*1oZoDg35QM61ax8R8tIihg.png"/></div></figure><ul class=""><li id="df1f" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated"><strong class="jx hv">ç±»åˆ«</strong>ç”±ç±»(åç§°)å’Œä¸ä¹‹ç›¸å…³çš„ ID ç»„æˆã€‚</li></ul><p id="81d7" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">ä¸ºäº†æ›´å®¹æ˜“ç†è§£æ‰€æœ‰è¿™äº›ï¼Œè®©æˆ‘ä»¬æŠŠé‡è¦çš„ä¸œè¥¿è½¬æ¢æˆå­—å…¸ç†è§£å’Œåˆ—è¡¨ç†è§£ã€‚</p><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="f61f" class="lw lx hu ls b fv ly lz l ma mb">FILE_NAME,ID,IMG_ID,CATEGORY_ID,BBOX = 'file_name','id','image_id','category_id','bbox'</span><span id="9097" class="lw lx hu ls b fv mc lz l ma mb">categories = {o[ID]:o['name'] for o in training_json[CATEGORIES]}<br/><strong class="ls hv"># The categories is a dictionary having  class and an ID associated with # it.</strong><br/><strong class="ls hv"># Lets check out all of the 20 categories using the command below</strong><br/>categories</span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff ml"><img src="../Images/7930f2caf9402eabcfa57de91498bf6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/format:webp/1*nfd1uYuR4IjZlEpQYjC8OQ.png"/></div></figure><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="ea9e" class="lw lx hu ls b fv ly lz l ma mb"><strong class="ls hv">training_filenames = {o[ID]:o[FILE_NAME] for o in training_json[IMAGES]}<br/>training_filenames</strong> <br/># contains the id and the filename of the images.</span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff ml"><img src="../Images/99b9a7af9c191fc37779ca1e87016c8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/format:webp/1*Gth5pxQdRKjDfAPS2D0_kg.png"/></div></figure><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="0911" class="lw lx hu ls b fv ly lz l ma mb"><strong class="ls hv">training_ids = [o[ID] for o in training_json[IMAGES]]<br/>training_ids <br/></strong># This is a list comprehension.</span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mm"><img src="../Images/0f1e5d40fd4773c77f8ec25a84703aa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:144/format:webp/1*pHk6wf76sGhFngkDUPSQjA.png"/></div></figure><p id="143e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å­˜æ”¾æ‰€æœ‰å›¾åƒçš„æ–‡ä»¶å¤¹ã€‚</p><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="e49c" class="lw lx hu ls b fv ly lz l ma mb">list((PATH/'VOCdevkit'/'VOC2007').iterdir())<br/><strong class="ls hv"># The JPEGImages in red is the one with all the Images in it.</strong></span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mn"><img src="../Images/8a5bb555318bd3c9b43078d932c9050b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1110/format:webp/1*GkhRzANWII2CWf89klWxVA.png"/></div></figure><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="5825" class="lw lx hu ls b fv ly lz l ma mb">JPEGS = 'VOCdevkit/VOC2007/JPEGImages'<br/>IMG_PATH = PATH/JPEGS<br/><strong class="ls hv"># Set the path of the Images as IMG_PATH<br/></strong>list(IMG_PATH.iterdir())[:5]<br/><strong class="ls hv"># Check out all the Images in the Path</strong></span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mo"><img src="../Images/586a3982d68127370cbf13df6a5845eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1044/format:webp/1*ii7GxbfVhlm0a8SocFATUw.png"/></div></figure><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mp"><img src="../Images/9b79cb5956a535d4c3d342de8267ab25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*xKRi2yCNKC325hw9pjiIxQ.png"/></div></figure><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mq"><img src="../Images/44c5636c552a6aa4ebd8bb8b95584dd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*5Fz2XS3sXAYx-ig-OHXsEg.png"/></div></figure><p id="2cc9" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">æ³¨æ„:-å¦‚ä¸Šæ‰€ç¤ºï¼Œæ¯ä¸ªå›¾åƒéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹ç›¸å…³è”çš„å”¯ä¸€ idã€‚</strong></p><p id="aaef" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv"> <em class="lj"> 1.3ã€‚è¾¹ç•Œæ¡†</em> </strong></p><p id="bdf5" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è¿™é‡Œçš„ä¸»è¦ç›®çš„æ˜¯å°†æˆ‘ä»¬çš„è¾¹ç•Œæ¡†è½¬æ¢æˆåˆé€‚çš„æ ¼å¼ï¼Œä»¥ä¾¿ç”¨äºç»˜å›¾ã€‚è¾¹ç•Œæ¡†åæ ‡å‡ºç°åœ¨æ³¨é‡Šä¸­ã€‚</p><blockquote class="mr ms mt"><p id="8402" class="jv jw lj jx b jy jz iv ka kb kc iy kd mu kf kg kh mv kj kk kl mw kn ko kp kq hn dt translated">è¾¹ç•Œæ¡†æ˜¯å›¾åƒä¸­å¯¹è±¡å‘¨å›´çš„æ¡†ã€‚</p></blockquote><p id="94a0" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">æ—©å…ˆè¾¹ç•Œæ¡†åæ ‡è¡¨ç¤º(åˆ—ï¼Œè¡Œï¼Œé«˜åº¦ï¼Œå®½åº¦)ã€‚çœ‹çœ‹ä¸‹é¢çš„å›¾ç‰‡ã€‚</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mx"><img src="../Images/7a4645a9dcd1d7fdf930624b85753ab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*SX82ACV3k9R_TWPSEoCAnQ.png"/></div></figure><ul class=""><li id="5814" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated">é€šè¿‡<strong class="jx hv"> hw_bb() </strong>å‡½æ•°å°†åæ ‡è½¬æ¢ä¸º height_width åˆ° bounding_boxï¼Œå¾—åˆ°å·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„åæ ‡ï¼Œå¹¶ä»¥(è¡Œå’Œåˆ—)çš„å½¢å¼è¡¨ç¤ºã€‚</li></ul><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="50c8" class="lw lx hu ls b fv ly lz l ma mb"><strong class="ls hv">def hw_bb(bb): return np.array([bb[1], bb[0], bb[3]+bb[1]-1, bb[2]+bb[0]-1])</strong></span></pre><ul class=""><li id="c540" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†<strong class="jx hv">åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œè¯¥å­—å…¸å°†å›¾åƒ id ä½œä¸º<em class="lj">é”®</em>ï¼Œå…¶è¾¹ç•Œæ¡†åæ ‡å’Œç±»åˆ« id ä½œä¸º<em class="lj">å€¼</em> </strong>ã€‚</li></ul><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="4c04" class="lw lx hu ls b fv ly lz l ma mb"><strong class="ls hv"># Python's defaultdict is useful any time you want to have a default     # dictionary entry for new keys. If you try and access a key that doesnâ€™t # exist, it magically makes itself exist and <br/># it sets itself equal to the return value of the function you specify   # (in this case lambda:[]).</strong><br/>training_annotations = collections.defaultdict(lambda:[])<br/>for o in training_json[ANNOTATIONS]:<br/>    if not o['ignore']:<br/>        bb = o[BBOX]<br/>        bb = hw_bb(bb)<br/>        training_annotations[o[IMG_ID]].append((bb,o[CATEGORY_ID]))</span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff my"><img src="../Images/af7eb1987f6039a837aeb57ebc3f29eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*N5-5liWfu5tWDw4iNZHBqg.png"/></div></figure><ul class=""><li id="efb0" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated">åœ¨ä¸Šé¢çš„ä»£ç å—ä¸­ï¼Œæˆ‘ä»¬æ£€æŸ¥äº†æ‰€æœ‰çš„æ³¨é‡Šï¼Œå¹¶è€ƒè™‘äº†é‚£äº›æ²¡æœ‰è¯´ ignore çš„æ³¨é‡Šã€‚ä¹‹åï¼Œæˆ‘ä»¬å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ª<strong class="jx hv">å­—å…¸ä¸­ï¼Œå­—å…¸ä¸­çš„å€¼æ˜¯è¾¹ç•Œæ¡†(bbox)å’Œç±»åˆ« id(class ),å¯¹åº”çš„å›¾ç‰‡ id æ˜¯å…³é”®å­—ã€‚</strong></li><li id="7e62" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¦‚æœè¿˜ä¸å­˜åœ¨å­—å…¸æ¡ç›®ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸èƒ½å‘å®ƒé™„åŠ ä»»ä½• bbox å’Œ class åˆ—è¡¨ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† Python çš„ defaultdictï¼Œä»£ç å¦‚ä¸‹ã€‚</li></ul><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="bc1f" class="lw lx hu ls b fv ly lz l ma mb">training_annotations = collections.defaultdict(lambda:[])</span></pre><ul class=""><li id="9d81" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated">å®ƒæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æ­£åœ¨è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„é”®ï¼Œé‚£ä¹ˆ<code class="eh md me mf ls b">defaultdict</code>ä¼šç¥å¥‡åœ°åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œå¹¶è®¾ç½®å®ƒè‡ªå·±ç­‰äºå‡½æ•°è¿”å›çš„å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚å› æ­¤ï¼Œæ¯æ¬¡æˆ‘ä»¬è®¿é—®è®­ç»ƒæ³¨é‡Šä¸­çš„é”®æ—¶ï¼Œå¦‚æœå®ƒä¸å­˜åœ¨ï¼Œ<code class="eh md me mf ls b">defaultdict</code>ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºåˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥å‘å®ƒè¿½åŠ å†…å®¹ã€‚</li></ul><p id="b977" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">æœ‰ç”¨å›¾åƒç›¸å…³ä¿¡æ¯çš„æ±‡æ€»</strong></p><p id="8d79" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è®©æˆ‘ä»¬æ·±å…¥äº†è§£ç‰¹å®šå›¾åƒçš„æ³¨é‡Šç»†èŠ‚ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ä¸‹é¢çš„å¿«ç…§ä¸­çœ‹åˆ°çš„ã€‚</p><ul class=""><li id="0caa" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated">æˆ‘ä»¬æ‹ä¸€å¼ ç‰¹å®šçš„ç…§ç‰‡ã€‚</li><li id="af85" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">è·å–å…¶æ³¨é‡Šï¼Œå³ BBox ä¸­å¯¹è±¡çš„<strong class="jx hv">è¾¹ç•Œæ¡†å’Œç±»</strong>ã€‚å®ƒè¡¨ç¤ºç±»ä¸­å­˜åœ¨å“ªäº›å¯¹è±¡ä»¥åŠè¿™äº›å¯¹è±¡çš„åæ ‡ã€‚</li><li id="2845" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­æ£€æŸ¥è¿™ä¸ªç±»æŒ‡çš„æ˜¯ä»€ä¹ˆã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç±»åˆ«æ˜¯æ±½è½¦ã€‚</li></ul><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mz"><img src="../Images/7e8f7a479049249915e59f6bc9b43473.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*s5jjuRQDXf5YgdhkF519vQ.png"/></div></figure><p id="b040" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">æœ‰äº›åº“é‡‡ç”¨ VOC æ ¼å¼çš„è¾¹ç•Œæ¡†ï¼Œå› æ­¤<strong class="jx hv"> <em class="lj"> bb_hw() </em> </strong>å‡½æ•°æœ‰åŠ©äºå°†å°ºå¯¸é‡ç½®ä¸ºåŸå§‹æ ¼å¼:</p><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="e4ea" class="lw lx hu ls b fv ly lz l ma mb">bb_voc = [155, 96, 196, 174]<br/>bb_fastai = hw_bb(bb_voc) </span><span id="f558" class="lw lx hu ls b fv mc lz l ma mb"><strong class="ls hv"># We won't be using the below function for now .</strong><br/>def bb_hw(a): return np.array([a[1],a[0],a[3]-a[1]+1,a[2]-a[0]+1])</span></pre></div><div class="ab cl lk ll hc lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="hn ho hp hq hr"><p id="7386" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">1.4<em class="lj">ã€‚å›´ç»•å¯¹è±¡</em>ç»˜åˆ¶è¾¹ç•Œæ¡†</strong></p><p id="9c84" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†é‡ç‚¹æ”¾åœ¨åˆ›å»ºä¸€ä¸ªå›¾åƒå‘¨å›´çš„è¾¹ç•Œæ¡†ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†é€æ­¥æˆ–åœ¨å•ç‹¬çš„å‡½æ•°ä¸­åˆ›å»ºå›¾ã€‚æ¯ä¸€æ­¥éƒ½æœ‰æ˜ç¡®çš„ç›®çš„æ¥åˆ›é€ ä¸€ä¸ªæƒ…èŠ‚ã€‚è®©æˆ‘ä»¬çœ‹çœ‹æ¯ä¸€æ­¥çš„ç›®çš„ã€‚å‘å¸–è¯´æˆ‘ä»¬ä¼šæŠŠé‡ç‚¹æ”¾åœ¨æµé‡ä¸Šã€‚</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="lh li l"/></div></figure><ul class=""><li id="dc01" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated"><strong class="jx hv">ä¸‹é¢çš„ä»£ç ç”¨äºè·å–è½´ï¼Œæˆ‘ä»¬å°†åœ¨å…¶ä¸Šç»˜åˆ¶å›¾åƒã€‚</strong></li></ul><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="75db" class="lw lx hu ls b fv ly lz l ma mb">def show_img(im, figsize=None, ax=None):<br/><strong class="ls hv"># The ax is used to pass in an axis object. </strong><br/>   if not ax: fig,ax = plt.subplots(figsize=figsize)<br/>   ax.imshow(im)<br/>   ax.get_xaxis().set_visible(False)<br/>   ax.get_yaxis().set_visible(False)<br/>   return ax</span></pre><ul class=""><li id="2113" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated"><strong class="jx hv">ä½¿ç”¨ä»¥ä¸‹ä»£ç åœ¨å›¾åƒä¸­çš„å¯¹è±¡å‘¨å›´ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ã€‚</strong></li></ul><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="6469" class="lw lx hu ls b fv ly lz l ma mb">def draw_rect(ax, b):<br/>    patch = ax.add_patch(patches.Rectangle(b[:2], *b[-2:], fill=False, edgecolor='white', lw=2))<br/>    draw_outline(patch, 4)</span><span id="7056" class="lw lx hu ls b fv mc lz l ma mb"><strong class="ls hv"># *b[-2:] in the argument list is the splat operator . It passes b[-2],b[-1] as parameters. Its a shortcut.</strong></span></pre><ul class=""><li id="db73" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated"><strong class="jx hv"/><code class="eh md me mf ls b"><strong class="jx hv">draw_outline()</strong></code><strong class="jx hv">ç”¨äºä½¿æ–‡æœ¬å¯è§ï¼Œä¸å—èƒŒæ™¯å½±å“ã€‚å› æ­¤ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨é»‘è‰²è½®å»“çš„ç™½è‰²æ–‡æœ¬ï¼Œåä¹‹äº¦ç„¶ã€‚</strong></li></ul><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="da46" class="lw lx hu ls b fv ly lz l ma mb">def draw_outline(o, lw):<br/>    o.set_path_effects([patheffects.Stroke(<br/>        linewidth=lw, foreground='black'), patheffects.Normal()])</span><span id="c12a" class="lw lx hu ls b fv mc lz l ma mb"><strong class="ls hv"># foreground='black' means to create a black stroke around it.</strong></span></pre><ul class=""><li id="835e" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated">åœ¨è¾¹æ¡†é™„è¿‘ä»¥æ–‡æœ¬çš„å½¢å¼å†™ä¸‹å›¾åƒæ‰€å±çš„ç±»åˆ«ã€‚</li></ul><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="e10d" class="lw lx hu ls b fv ly lz l ma mb">def draw_text(ax, xy, txt, sz=14):<br/>    text = ax.text(*xy, txt,<br/>        verticalalignment='top', color='white', fontsize=sz, weight='bold')<br/>    draw_outline(text, 1)</span><span id="4f18" class="lw lx hu ls b fv mc lz l ma mb"><strong class="ls hv"># Add text and draw outline around it.</strong></span></pre><ul class=""><li id="b091" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated">ä¸‹é¢æ˜¯å¦‚ä½•åœ¨å›¾åƒä¸­çš„ç‰©ä½“å‘¨å›´åˆ›å»ºä¸€ä¸ªè¾¹ç•Œæ¡†çš„æµç¨‹ã€‚</li></ul><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="d02b" class="lw lx hu ls b fv ly lz l ma mb"><strong class="ls hv"># Step 1 :- Returns the axis the image is on by calling the function     # show_img().</strong><br/>ax = show_img(im)<br/><strong class="ls hv"># Step 2 :- Convert the bounding box coordinates into proper format by   # calling the function bb_hw().</strong><br/>b = bb_hw(im0_a[0])<br/><strong class="ls hv"># Step 3:- Draw a rectangle /Bounding box around the object by calling   # the function draw_rect().</strong><br/>draw_rect(ax, b)<br/><strong class="ls hv"># Step 4:- Draw the text near the top left corner b[:2]</strong> .<br/><strong class="ls hv"># And it contains two things , the bounding box  and the class ,<br/># im0_a[1] is the class and to get the text , pass it into               # categories[im0_a[1]]<br/># by calling the function draw_text().</strong><br/>draw_text(ax, b[:2], categories[im0_a[1]]) <br/></span></pre><p id="78a5" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è®©æˆ‘ä»¬ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„å‡½æ•°æ¥æ€»ç»“æµç¨‹æ­¥éª¤</p><pre class="jk jl jm jn fq lr ls lt lu aw lv dt"><span id="29bf" class="lw lx hu ls b fv ly lz l ma mb">def draw_im(im, ann):<br/>    ax = show_img(im, figsize=(16,8))<br/>    for b,c in ann:<strong class="ls hv"> # Destructure the annotations into bbox and class</strong><br/>        b = bb_hw(b)<strong class="ls hv"> # Convert it into appropriate coordinates</strong><br/>        draw_rect(ax, b)<strong class="ls hv"> # Draw rectangle bbox around it.</strong><br/>        draw_text(ax, b[:2], categories[c], sz=16) <br/><strong class="ls hv">        # Write some text around it</strong></span><span id="9d5a" class="lw lx hu ls b fv mc lz l ma mb">def draw_idx(i):<br/>    im_a = training_annotations[i]<strong class="ls hv"> # Grab the annotations with the help of the image id.</strong><br/>    im = open_image(IMG_PATH/training_filenames[i]) <strong class="ls hv"># Open that Image</strong><br/>    print(im.shape) <strong class="ls hv"># Print its shape</strong><br/>    draw_im(im, im_a)<strong class="ls hv"> # Call the draw and print its text</strong></span><span id="29aa" class="lw lx hu ls b fv mc lz l ma mb">draw_idx(17) <br/><strong class="ls hv"># Draw an image of a particular index.</strong></span></pre><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff na"><img src="../Images/f575ceb33c97c56244d1d76ad2ab7644.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*F3HM-YHncHs5QWQr55zg7w.png"/></div></figure><p id="fb69" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è®©æˆ‘ä»¬åœ¨è¿™é‡Œè¯¦ç»†æ€»ç»“ä¸€ä¸‹æµç¨‹:-</p><ul class=""><li id="e959" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq lg ky kz la dt translated"><code class="eh md me mf ls b"><strong class="jx hv">draw_idx(17)</strong></code> <strong class="jx hv"> </strong>è°ƒç”¨<code class="eh md me mf ls b"><strong class="jx hv">def draw_idx(i)</strong>:</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°è·å–å·²ä¼ é€’ç»™è¯¥å‡½æ•°çš„ 17 å·å›¾åƒçš„æ³¨é‡Šã€‚</li><li id="1c25" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated"><strong class="jx hv">æ³¨æ„:-å¯¹è±¡çš„æ³¨é‡Šæ˜¯è¯¥å›¾åƒä¸­å¯¹è±¡çš„è¾¹ç•Œæ¡†ä»¥åŠè¯¥å¯¹è±¡æ‰€å±çš„ç±»ã€‚</strong></li><li id="d211" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">åœ¨<code class="eh md me mf ls b"><strong class="jx hv">def draw_idx(i) </strong></code>å‡½æ•°ä¸­ï¼Œè·å–æ³¨é‡Šåï¼Œæˆ‘ä»¬æ‰“å¼€å›¾åƒï¼Œæ‰“å°å‡ºå®ƒçš„å½¢çŠ¶ã€‚</li><li id="9932" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">ç„¶åæˆ‘ä»¬ç”¨å›¾åƒåŠå…¶æ ‡æ³¨è°ƒç”¨<code class="eh md me mf ls b"><strong class="jx hv">def draw_im(im, im_a)</strong></code> <strong class="jx hv"> </strong>å‡½æ•°ã€‚</li><li id="d9cd" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">åœ¨è¿™ä¸ª<code class="eh md me mf ls b"><strong class="jx hv">def draw_im(im, im_a) </strong></code>å‡½æ•°ä¸­ï¼Œé¦–å…ˆæˆ‘ä»¬æ‰“å°å›¾åƒã€‚</li><li id="1cd1" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">ç„¶ååœ¨ for å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬éå†æ¯ä¸ªæ³¨é‡Šï¼Œå°†è¾¹ç•Œæ¡†å’Œç±»åˆ†åˆ«å­˜å‚¨åœ¨ b å’Œ c ä¸­ã€‚è¿™ä¹Ÿç§°ä¸ºèµ‹å€¼çš„ææ„ã€‚</li><li id="8ffd" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated">ä½¿ç”¨æ­¤<code class="eh md me mf ls b"><strong class="jx hv">bb_hw(b)</strong></code> <strong class="jx hv"> </strong>åŠŸèƒ½å°†è¾¹ç•Œæ¡†åæ ‡è½¬æ¢æˆåˆé€‚çš„åæ ‡ï¼Œå³å·¦ä¸Šè§’å’Œå³ä¸‹è§’åæ ‡ã€‚</li><li id="e25c" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated"><code class="eh md me mf ls b"><strong class="jx hv">draw_rect(ax, b) </strong></code> <strong class="jx hv"> :- </strong>ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬åœ¨è¾¹ç•Œæ¡†å‘¨å›´ç”»ä¸€ä¸ªçŸ©å½¢ã€‚</li><li id="76c9" class="ks kt hu jx b jy lb kb lc ke ld ki le km lf kq lg ky kz la dt translated"><code class="eh md me mf ls b"><strong class="jx hv">draw_text(ax, b[:2], categories[c], sz=16)</strong></code> <strong class="jx hv"> :- </strong>ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬æ­£åœ¨å†™ä¸€äº›æ–‡å­—ã€‚</li></ul><p id="7554" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è¿™å°±æ˜¯æˆ‘ä»¬åœ¨å›¾åƒä¸­å®šä½ç‰©ä½“çš„æ–¹å¼ã€‚ä¸‹ä¸€æ­¥æ˜¯å¯¹å›¾åƒä¸­æœ€å¤§çš„é¡¹ç›®è¿›è¡Œåˆ†ç±»ã€‚æˆ‘ä»¬å°†åœ¨<a class="ae kr" href="https://medium.com/p/2deafc911ce7/edit" rel="noopener">ä¸‹ä¸€ç¯‡åšæ–‡</a>ä¸­è¯¦ç»†è®¨è®ºä¸‹ä¸€æ­¥ã€‚</p><p id="910d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">å¤§å£°ç–¾å‘¼<a class="ae kr" rel="noopener" href="/@anweshsatapathy"> Anwesh Satapathy </a>å’Œ<a class="ae kr" href="https://twitter.com/shar1pius" rel="noopener ugc nofollow" target="_blank"> Sharwon Pius </a>ç”¨ç®€å•çš„æ–¹å¼è¯´æ˜äº†è¿™ä¸ªé—®é¢˜ã€‚è¯·æŸ¥çœ‹ä»–çš„<a class="ae kr" href="https://github.com/AI6-Bangalore-Chapter/2018-cycle-2/tree/master/Sessions/Session_12" rel="noopener ugc nofollow" target="_blank"> github Repo </a>å’Œå•ä¸ªå¯¹è±¡æ£€æµ‹çš„ç®€åŒ–è·¯çº¿å›¾ã€‚</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nb li l"/></div></figure><p id="a59e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">å¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·éšæ—¶åœ¨ twitter ä¸Šæå‡º<a class="ae kr" href="https://twitter.com/ashiskumarpanda" rel="noopener ugc nofollow" target="_blank"> @ashiskumarpanda </a>æˆ–åœ¨ fastai è®ºå›ä¸ŠæŸ¥çœ‹ã€‚</p><p id="5c11" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv"> <em class="lj">å¦‚æœçœ‹åˆ°äº†ğŸ‘ ğŸ‘æŒ‰é’®ï¼Œå¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·éšæ„åšä½ éœ€è¦åšçš„ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„ã€‚</em> </strong></p><p id="0d51" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">è¢«æ°ç‘ç±³Â·éœåå¾·èµè¯†çš„æ„Ÿè§‰çœŸçš„å¾ˆå¥½ã€‚çœ‹çœ‹ä»–å¯¹æˆ‘çš„ Fast.ai ç¬¬ä¸€éƒ¨åˆ†åšå®¢çš„çœ‹æ³•ã€‚ä¸€å®šè¦çœ‹ä¸€çœ‹ã€‚</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nc li l"/></div></figure><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nd li l"/></div></figure></div></div>    
</body>
</html>