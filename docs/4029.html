<html>
<head>
<title>React Form Validation Using React Hooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨ReactæŒ‚é’©è¿›è¡ŒReactè¡¨å•éªŒè¯</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/react-form-validation-using-react-hooks-5859c32280ca?source=collection_archive---------3-----------------------#2019-07-07">https://medium.com/hackernoon/react-form-validation-using-react-hooks-5859c32280ca?source=collection_archive---------3-----------------------#2019-07-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/58cf628218cbfe970a38e309514b1126.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RNCvaJoz27hcyN3WzHFwNg.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo by <a class="ae jg" href="https://unsplash.com/@efekurnaz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Efe Kurnaz</a> on <a class="ae jg" href="https://unsplash.com/search/photos/hooks?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="fe44" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae jg" href="https://reactjs.org/docs/hooks-intro.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jj hv"> React 16.8 </strong> </a>æ›´æ–°åœ¨ä»–ä»¬çš„åº“ä¸­å¼•å…¥äº†ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œå«åš<strong class="jj hv">é’©å­</strong>ã€‚Hooksæ˜¯Reactåº“ä¸­æœ€å…·é©å‘½æ€§çš„æ›´æ–°ä¹‹ä¸€ã€‚å®ƒç»™äº†ä½ æ›´å¤šçš„çµæ´»æ€§æ¥ç¼–å†™æœ‰çŠ¶æ€çš„ç»„ä»¶ï¼Œè€Œä¸ç”¨ç¼–å†™ç±»ã€‚ä¿—è¯è¯´â€œ<strong class="jj hv">å†™å¾—æ›´å°‘ï¼Œåšå¾—æ›´å¤š</strong>â€åœ¨Reactåº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨å°†é¿å…è®¸å¤šæ ·æ¿ä»£ç ã€‚</p><p id="11ff" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æ‰€ä»¥åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å’Œä½ åˆ†äº«æˆ‘æ˜¯å¦‚ä½•ä½¿ç”¨Reacté’©å­åˆ›å»ºè‡ªå·±çš„è¡¨å•éªŒè¯çš„ã€‚</p><p id="5d35" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œå¯ä»¥åœ¨æˆ‘çš„<a class="ae jg" href="https://github.com/llauderesv/react-form-validation" rel="noopener ugc nofollow" target="_blank"> GitHubæ¦‚è¦æ–‡ä»¶</a>ä¸­ä¸‹è½½å®Œæ•´çš„èµ„æºåº“ã€‚å¦‚æœä½ æœ‰ä»€ä¹ˆè¦åˆ†äº«æˆ–è¯„è®ºçš„ï¼Œè¯·éšæ„ä¿®æ”¹ä»£ç ã€‚</p><p id="b953" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">å¥½çš„ï¼Œé¦–å…ˆè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º<strong class="jj hv"> useForm.js </strong>çš„æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æ”¾ç½®è¡¨å•éªŒè¯æŒ‚é’©æ¥åˆ†ç¦»å…³æ³¨ç‚¹ã€‚æˆ‘ä»¬éµå¾ªReactåº“ä¸­çš„æƒ¯ä¾‹ï¼Œå³æ¯ä¸ªä½¿ç”¨é’©å­çš„åŠŸèƒ½ç»„ä»¶éƒ½ä»¥<strong class="jj hv">â€œuseâ€</strong>å…³é”®å­—å¼€å¤´ï¼Œåè·Ÿå®ƒä»¬çš„ç”¨é€”ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆå®¹æ˜“åœ°ç¡®å®šå®ƒä»¬èƒ½åšä»€ä¹ˆã€‚</p><p id="5b18" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œè®©æˆ‘ä»¬é¦–å…ˆå¯¼å…¥Reactåº“ä¸­éœ€è¦çš„æ‰€æœ‰é’©å­ã€‚</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="435f" class="ko kp hu kk b fv kq kr l ks kt">import { useState, useEffect, useCallback } from 'react';</span></pre><p id="d5d6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ä¹‹åï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º<strong class="jj hv">çš„å‡½æ•°ï¼Œä½¿ç”¨è¡¨å•</strong>ï¼Œæœ‰3ä¸ªå‚æ•°ã€‚</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="78cf" class="ko kp hu kk b fv kq kr l ks kt">import { useState, useEffect, useCallback } from 'react';<br/><br/>function useForm(stateSchema, validationSchema = {}, callback) {<br/>  const [state, setState] = useState(stateSchema);<br/>  const [disable, setDisable] = useState(true);<br/>  const [isDirty, setIsDirty] = useState(false);<br/><br/>  // Disable button in initial render.<br/>  useEffect(() =&gt; {<br/>    setDisable(true);<br/>  }, []);<br/><br/>  // For every changed in our state this will be fired<br/>  // To be able to disable the button<br/>  useEffect(() =&gt; {<br/>    if (isDirty) {<br/>      setDisable(validateState());<br/>    }<br/>  }, [state, isDirty]);<br/><br/>  // Used to disable submit button if there's an error in state<br/>  // or the required field in state has no value.<br/>  // Wrapped in useCallback to cached the function to avoid intensive memory leaked<br/>  // in every re-render in component<br/>  const validateState = useCallback(() =&gt; {<br/>    const hasErrorInState = Object.keys(validationSchema).some(key =&gt; {<br/>      const isInputFieldRequired = validationSchema[key].required;<br/>      const stateValue = state[key].value; // state value<br/>      const stateError = state[key].error; // state error<br/><br/>      return (isInputFieldRequired &amp;&amp; !stateValue) || stateError;<br/>    });<br/><br/>    return hasErrorInState;<br/>  }, [state, validationSchema]);<br/><br/>  // Used to handle every changes in every input<br/>  const handleOnChange = useCallback(<br/>    event =&gt; {<br/>      setIsDirty(true);<br/><br/>      const name = event.target.name;<br/>      const value = event.target.value;<br/><br/>      let error = '';<br/>      if (validationSchema[name].required) {<br/>        if (!value) {<br/>          error = 'This is required field.';<br/>        }<br/>      }<br/><br/>      if (<br/>        validationSchema[name].validator !== null &amp;&amp;<br/>        typeof validationSchema[name].validator === 'object'<br/>      ) {<br/>        if (value &amp;&amp; !validationSchema[name].validator.regEx.test(value)) {<br/>          error = validationSchema[name].validator.error;<br/>        }<br/>      }<br/><br/>      setState(prevState =&gt; ({<br/>        ...prevState,<br/>        [name]: { value, error },<br/>      }));<br/>    },<br/>    [validationSchema]<br/>  );<br/><br/>  const handleOnSubmit = useCallback(<br/>    event =&gt; {<br/>      event.preventDefault();<br/><br/>      // Make sure that validateState returns false<br/>      // Before calling the submit callback function<br/>      if (!validateState()) {<br/>        callback(state);<br/>      }<br/>    },<br/>    [state]<br/>  );<br/><br/>  return { state, disable, handleOnChange, handleOnSubmit };<br/>}<br/><br/>export default useForm;</span></pre><p id="4cc6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æˆ‘ä»¬çš„useFormå‡½æ•°ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<strong class="jj hv"> stateSchema </strong>ã€‚åœ¨è¿™ä¸ªå‚æ•°ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨è¡¨å•ä¸­å®šä¹‰æˆ‘ä»¬çš„çŠ¶æ€ã€‚</p><p id="f205" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">ç¤ºä¾‹:</strong></p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="66a1" class="ko kp hu kk b fv kq kr l ks kt">  // Define your state schema<br/>  const stateSchema = {<br/>    fname: { value: '', error: '' },<br/>    lname: { value: '', error: '' },<br/>    tags: { value: '', error: '' },<br/>  };</span></pre><p id="5767" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æˆ‘ä»¬çš„stateSchema å¯¹è±¡åŒ…å«äº†è¡¨å•ä¸­çš„æ‰€æœ‰å­—æ®µã€‚æ­£å¦‚ä½ åœ¨è¿™é‡Œçœ‹åˆ°çš„ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª<strong class="jj hv"> fname </strong>å’Œä¸€ä¸ªåŒ…å«<strong class="jj hv"> value </strong>å’Œ<strong class="jj hv"> errorå±æ€§çš„object valueã€‚</strong>å€¼æ˜¯æˆ‘ä»¬åœ¨è¾“å…¥å­—æ®µä¸­è¾“å…¥çš„å€¼ï¼Œé”™è¯¯æ˜¯æˆ‘ä»¬è¾“å…¥å­—æ®µä¸­çš„é”™è¯¯(å¦‚æœæœ‰çš„è¯)ã€‚</p><p id="f486" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ç¬¬äºŒä¸ªå‚æ•°æ˜¯<strong class="jj hv"> validationSchema </strong>ã€‚åœ¨è¿™ä¸ªå‚æ•°ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†è‡ªå·±åœ¨è¡¨å•ä¸­éªŒè¯çŠ¶æ€çš„è§„åˆ™ã€‚</p><p id="bb25" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">ä¾‹å¦‚:</strong></p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="64d5" class="ko kp hu kk b fv kq kr l ks kt">  // Define your validationStateSchema<br/>  // Note: validationStateSchema and stateSchema property<br/>  // should be the same in-order validation works!<br/>  const validationStateSchema = {<br/>    fname: {<br/>      required: true,<br/>      validator: {<br/>        regEx: /^[a-zA-Z]+$/,<br/>        error: 'Invalid first name format.',<br/>      },<br/>    },<br/>    lname: {<br/>      required: true,<br/>      validator: {<br/>        regEx: /^[a-zA-Z]+$/,<br/>        error: 'Invalid last name format.',<br/>      },<br/>    },<br/>    tags: {<br/>      required: true,<br/>      validator: {<br/>        regEx: /^(,?\w{3,})+$/,<br/>        error: 'Invalid tag format.',<br/>      },<br/>    },<br/>  };</span></pre><p id="44ed" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æ­£å¦‚æ‚¨å·²ç»æ³¨æ„åˆ°çš„ï¼Œè¿™é‡Œçš„<strong class="jj hv"> stateSchema </strong>å±æ€§å’Œ<strong class="jj hv"> validationSchema </strong>å±æ€§æ˜¯ç›¸åŒçš„ã€‚å› ä¸ºæˆ‘ä»¬éœ€è¦å°†stateSchemaä¸­çš„éªŒè¯æ˜ å°„åˆ°æˆ‘ä»¬åœ¨stateSchemaä¸­å®šä¹‰çš„éªŒè¯å­—æ®µ(ä¾‹å¦‚:fnameã€lnameå’Œtagsç­‰)ã€‚</p><p id="d4f5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æˆ‘ä»¬æäº¤è¡¨å•æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ã€‚é€šå¸¸æˆ‘ä»¬æŠŠå¤„ç†è¡¨å•æäº¤çš„apiæ”¾åœ¨è¿™é‡Œã€‚</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="3a6a" class="ko kp hu kk b fv kq kr l ks kt">function onSubmitForm(state) {<br/>  alert(JSON.stringify(state, null, 2));<br/>}</span></pre><p id="9949" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æˆ‘ä»¬çš„useFormå‡½æ•°è¿”å›å€¼ï¼Œä¾‹å¦‚(<strong class="jj hv"> stateï¼Œdisableï¼ŒhandleOnChangeï¼ŒhandleOnSubmit </strong>)</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="076b" class="ko kp hu kk b fv kq kr l ks kt">return { state, disable, handleOnChange, handleOnSubmit };</span></pre><p id="1f8c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv"> state </strong>è¿”å›è¡¨å•ä¸­å½“å‰çŠ¶æ€çš„å¯¹è±¡ã€‚</p><p id="245f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv"> disable </strong>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œä»¥ä¾¿åœ¨çŠ¶æ€å‡ºé”™æ—¶ç¦ç”¨æäº¤æŒ‰é’®</p><p id="d66e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv"> handleOnChange </strong>è¿”å›ä¸€ä¸ªå‡½æ•°æ¥è®¾ç½®æˆ‘ä»¬è¡¨å•çŠ¶æ€ä¸­çš„å€¼ã€‚</p><p id="2939" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv"> handleOnSubmit </strong>è¿”å›ä¸€ä¸ªå‡½æ•°æ¥æäº¤è¡¨å•ä¸­çš„å€¼ã€‚</p><p id="8c7f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æ‰€ä»¥æˆ‘ä»¬ç°åœ¨å·²ç»åˆ›å»ºå¥½äº†æˆ‘ä»¬çš„useFormé’©å­ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæŒ‚åœ¨æˆ‘ä»¬çš„ç»„ä»¶ä¸­äº†ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é¦–å…ˆåˆ›å»ºæˆ‘ä»¬çš„è¡¨å•ç»„ä»¶ã€‚</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="d9df" class="ko kp hu kk b fv kq kr l ks kt">import React from 'react';<br/>import useForm from './useForm';</span><span id="0bc1" class="ko kp hu kk b fv ku kr l ks kt">function Form() {<br/>  // Define your state schema<br/>  const stateSchema = {<br/>    fname: { value: '', error: '' },<br/>    lname: { value: '', error: '' },<br/>    tags: { value: '', error: '' },<br/>  };</span><span id="5aa8" class="ko kp hu kk b fv ku kr l ks kt">// Define your validationStateSchema<br/>  // Note: validationStateSchema and stateSchema property<br/>  // should be the same in-order validation works!<br/>  const validationStateSchema = {<br/>    fname: {<br/>      required: true,<br/>      validator: {<br/>        regEx: /^[a-zA-Z]+$/,<br/>        error: 'Invalid first name format.',<br/>      },<br/>    },<br/>    lname: {<br/>      required: true,<br/>      validator: {<br/>        regEx: /^[a-zA-Z]+$/,<br/>        error: 'Invalid last name format.',<br/>      },<br/>    },<br/>    tags: {<br/>      required: true,<br/>      validator: {<br/>        regEx: /^(,?\w{3,})+$/,<br/>        error: 'Invalid tag format.',<br/>      },<br/>    },<br/>  };</span><span id="0123" class="ko kp hu kk b fv ku kr l ks kt">function onSubmitForm(state) {<br/>    alert(JSON.stringify(state, null, 2));<br/>  }</span><span id="03d9" class="ko kp hu kk b fv ku kr l ks kt">const { state, handleOnChange, handleOnSubmit, disable } = useForm(<br/>    stateSchema,<br/>    validationStateSchema,<br/>    onSubmitForm<br/>  );</span><span id="9b3c" class="ko kp hu kk b fv ku kr l ks kt">const errorStyle = {<br/>    color: 'red',<br/>    fontSize: '13px',<br/>  };</span><span id="3e35" class="ko kp hu kk b fv ku kr l ks kt">return (<br/>    &lt;div&gt;<br/>      &lt;form onSubmit={handleOnSubmit}&gt;<br/>        &lt;div&gt;<br/>          &lt;label htmlFor="fname"&gt;<br/>            First name:<br/>            &lt;input<br/>              type="text"<br/>              name="fname"<br/>              value={state.fname.value}<br/>              onChange={handleOnChange}<br/>            /&gt;<br/>          &lt;/label&gt;<br/>          {state.fname.error &amp;&amp; &lt;p style={errorStyle}&gt;{state.fname.error}&lt;/p&gt;}<br/>        &lt;/div&gt;</span><span id="fc38" class="ko kp hu kk b fv ku kr l ks kt">&lt;div&gt;<br/>          &lt;label htmlFor="lname"&gt;<br/>            Last name:<br/>            &lt;input<br/>              type="text"<br/>              name="lname"<br/>              value={state.lname.value}<br/>              onChange={handleOnChange}<br/>            /&gt;<br/>          &lt;/label&gt;<br/>          {state.lname.error &amp;&amp; &lt;p style={errorStyle}&gt;{state.lname.error}&lt;/p&gt;}<br/>        &lt;/div&gt;</span><span id="dc7e" class="ko kp hu kk b fv ku kr l ks kt">&lt;div&gt;<br/>          &lt;label htmlFor="tags"&gt;<br/>            Tags:<br/>            &lt;input<br/>              type="text"<br/>              name="tags"<br/>              value={state.tags.value}<br/>              onChange={handleOnChange}<br/>            /&gt;<br/>          &lt;/label&gt;<br/>          {state.tags.error &amp;&amp; &lt;p style={errorStyle}&gt;{state.tags.error}&lt;/p&gt;}<br/>        &lt;/div&gt;</span><span id="c129" class="ko kp hu kk b fv ku kr l ks kt">&lt;input type="submit" name="submit" disabled={disable} /&gt;<br/>      &lt;/form&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="f9cd" class="ko kp hu kk b fv ku kr l ks kt">export default Form;</span></pre><p id="41e6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">åœ¨è¡¨å•ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¹‹å‰åˆ›å»ºçš„åä¸ºuseFormçš„é’©å­ï¼Œå¹¶ä¼ é€’äº†æ‰€æœ‰å¿…éœ€çš„å‚æ•°æ¥ä½¿ç”¨å®ƒã€‚</p><p id="6a42" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æˆ‘ä»¬çš„çŠ¶æ€æ¨¡å¼:</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="fca5" class="ko kp hu kk b fv kq kr l ks kt">  // Define your state schema<br/>  const stateSchema = {<br/>    fname: { value: '', error: '' },<br/>    lname: { value: '', error: '' },<br/>    tags: { value: '', error: '' },<br/>  };</span></pre><p id="7ada" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">æˆ‘ä»¬çš„éªŒè¯æ–¹æ¡ˆ:</strong></p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="c5ee" class="ko kp hu kk b fv kq kr l ks kt">// Define your validationStateSchema<br/>  // Note: validationStateSchema and stateSchema property<br/>  // should be the same in-order validation works!<br/>  const validationStateSchema = {<br/>    fname: {<br/>      required: true,<br/>      validator: {<br/>        regEx: /^[a-zA-Z]+$/,<br/>        error: 'Invalid first name format.',<br/>      },<br/>    },<br/>    lname: {<br/>      required: true,<br/>      validator: {<br/>        regEx: /^[a-zA-Z]+$/,<br/>        error: 'Invalid last name format.',<br/>      },<br/>    },<br/>    tags: {<br/>      required: true,<br/>      validator: {<br/>        regEx: /^(,?\w{3,})+$/,<br/>        error: 'Invalid tag format.',<br/>      },<br/>    },<br/>  };</span></pre><p id="b870" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">æˆ‘ä»¬åœ¨æäº¤è¡¨å•æ—¶çš„å›è°ƒå‡½æ•°:</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="49ed" class="ko kp hu kk b fv kq kr l ks kt">function onSubmitForm(state) {<br/>    alert(JSON.stringify(state, null, 2));<br/>}</span></pre><p id="6bb3" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ä¼ é€’äº†useFormä¸­æ‰€æœ‰å¿…éœ€çš„å‚æ•°ä»¥ä½¿ç”¨å®ƒã€‚</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="3ddb" class="ko kp hu kk b fv kq kr l ks kt">const { state, handleOnChange, handleOnSubmit, disable } = useForm(<br/>    stateSchema,<br/>    validationStateSchema,<br/>    onSubmitForm<br/>);</span></pre><p id="4455" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">è®°ä½æˆ‘ä»¬çš„useFormé’©å­è¿”å›ä¸€ä¸ªå€¼ï¼Œæ¯”å¦‚<strong class="jj hv"> stateï¼ŒhandleOnChangeï¼ŒhandleOnSubmitï¼Œdisableã€‚</strong></p><p id="ce41" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¡¨å•ç»„ä»¶ä¸­ä½¿ç”¨å®ƒäº†ã€‚</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="1417" class="ko kp hu kk b fv kq kr l ks kt">return (<br/>    &lt;div&gt;<br/>      &lt;form onSubmit={handleOnSubmit}&gt;<br/>        &lt;div&gt;<br/>          &lt;label htmlFor="fname"&gt;<br/>            First name:<br/>            &lt;input<br/>              type="text"<br/>              name="fname"<br/>              value={state.fname.value}<br/>              onChange={handleOnChange}<br/>            /&gt;<br/>          &lt;/label&gt;<br/>          {state.fname.error &amp;&amp; &lt;p style={errorStyle}&gt;{state.fname.error}&lt;/p&gt;}<br/>        &lt;/div&gt;</span><span id="6d37" class="ko kp hu kk b fv ku kr l ks kt">&lt;div&gt;<br/>          &lt;label htmlFor="lname"&gt;<br/>            Last name:<br/>            &lt;input<br/>              type="text"<br/>              name="lname"<br/>              value={state.lname.value}<br/>              onChange={handleOnChange}<br/>            /&gt;<br/>          &lt;/label&gt;<br/>          {state.lname.error &amp;&amp; &lt;p style={errorStyle}&gt;{state.lname.error}&lt;/p&gt;}<br/>        &lt;/div&gt;</span><span id="f573" class="ko kp hu kk b fv ku kr l ks kt">&lt;div&gt;<br/>          &lt;label htmlFor="tags"&gt;<br/>            Tags:<br/>            &lt;input<br/>              type="text"<br/>              name="tags"<br/>              value={state.tags.value}<br/>              onChange={handleOnChange}<br/>            /&gt;<br/>          &lt;/label&gt;<br/>          {state.tags.error &amp;&amp; &lt;p style={errorStyle}&gt;{state.tags.error}&lt;/p&gt;}<br/>        &lt;/div&gt;</span><span id="abc9" class="ko kp hu kk b fv ku kr l ks kt">&lt;input type="submit" name="submit" disabled={disable} /&gt;<br/>      &lt;/form&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span></pre><p id="9887" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ä¹‹åï¼Œè®©æˆ‘ä»¬åœ¨App.jsä¸­å¯¼å…¥è¡¨å•ç»„ä»¶ã€‚</p><pre class="kf kg kh ki fq kj kk kl km aw kn dt"><span id="fc8b" class="ko kp hu kk b fv kq kr l ks kt">import React from 'react';<br/>import Form from './Form';</span><span id="abfb" class="ko kp hu kk b fv ku kr l ks kt">import logo from './logo.svg';<br/>import './App.css';</span><span id="6de2" class="ko kp hu kk b fv ku kr l ks kt">function App() {<br/>  return (<br/>    &lt;div className="App"&gt;<br/>      &lt;div className="App-header"&gt;<br/>        &lt;img className="App-logo" src={logo} alt="react-logo" /&gt;<br/>        &lt;p&gt;React Form Validation using React Hooks.&lt;/p&gt;<br/>      &lt;/div&gt;<br/>      &lt;Form /&gt;<br/>    &lt;/div&gt;<br/>  );<br/>}</span><span id="c0d8" class="ko kp hu kk b fv ku kr l ks kt">export default App;</span></pre><p id="d0b1" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">è¿™æ˜¯æˆ‘ä»¬ç”¨è¡¨å•ç»„ä»¶åˆ›å»ºçš„useFormæŒ‚é’©çš„æœ€ç»ˆè¾“å‡ºã€‚</p><figure class="kf kg kh ki fq iv"><div class="bz el l di"><div class="kv kw l"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">using useForm hooks in Form component</figcaption></figure><p id="8ebc" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">å¸Œæœ›æœ‰å¸®åŠ©ğŸ˜ƒ</p><p id="a260" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">å¦‚æœä½ å–œæ¬¢è¯»è¿™ç¯‡æ–‡ç« ï¼Œè¯·ä¸ºæˆ‘é¼“æŒğŸ‘ ğŸ‘ ğŸ‘</p><p id="35f6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">è°¢è°¢ä½ ã€‚</p></div><div class="ab cl kx ky hc kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="hn ho hp hq hr"><h1 id="cc1d" class="le kp hu bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma dt translated">â€œä¸è¦åšä¸€ä¸ªJavaScriptåº¸æ‰ã€‚â€</h1><p id="b71a" class="pw-post-body-paragraph jh ji hu jj b jk mb jm jn jo mc jq jr js md ju jv jw me jy jz ka mf kc kd ke hn dt translated">åœ¨æ¨ç‰¹ä¸Šå…³æ³¨æˆ‘<a class="ae jg" href="https://twitter.com/llaudevc/followers" rel="noopener ugc nofollow" target="_blank"><strong class="jj hv"><em class="mg">https://twitter.com/llaudevc/</em></strong></a></p></div></div>    
</body>
</html>